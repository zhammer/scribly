{% import 'head.html' as head %}
<!DOCTYPE html>
<html lang="en">

<head>
  {{ head.head("Uh oh!") }}
  <style type='text/css'>
    .frame {
      background: lightgray;
    }

    .frame__title {
      padding: 5px;
      border-bottom: solid 2px;
    }

    .code-line {
      white-space: pre-wrap;
    }

    .code-line--center {
      background: lightyellow;
    }
  </style>
</head>

<body>
  <div class="page">
    <h1>There was an error!</h1>
    <p>
      Scribly is a growing project and doesn't handle every error cleanly.
      Below is the error that occurred.
    </p>
    <p>
      <i>(You can report this error by <a
          href="mailto:zach.the.hammer@gmail.com?subject=Scribly Bug!" target="_blank"
          rel="noopener noreferrer">sending an email</a> or, if you're familiar with
        GitHub,{{ " " }}
        <a target="_blank" rel="noopener noreferrer" href="https://github.com/zhammer/scribly">
          making an issue!</a>)</i>
    </p>
    <hr>
    <h2>
      {{ traceback.exc_type.__name__}}: {{ traceback }}
    </h2>
    {% for frame_info in frame_infos|reverse %}
    <div class="frame">
      <p class="frame__title">
        {{ frame_info.frame.filename }}, line <i>{{ frame_info.frame.lineno }}</i>, in
        <b>{{ frame_info.frame.function }}</b>
      </p>
      <div>
        {%- for code_line in frame_info.code_lines -%}
        <p class="code-line {% if code_line.center %}code-line--center{% endif %}">
          {{- code_line.line_number -}}. {{ code_line.line }}</p>
        {%- endfor -%}
      </div>
    </div>
    <hr>
    {% endfor %}
</body>

</html>
